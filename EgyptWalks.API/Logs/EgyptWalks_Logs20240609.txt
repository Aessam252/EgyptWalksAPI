2024-06-09 15:33:46.454 +03:00 [INF] Logger has been configured.
2024-06-09 15:34:00.930 +03:00 [INF] Logger has been configured.
2024-06-09 15:34:03.357 +03:00 [INF] Executed DbCommand (564ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [EgyptWalksDb];
2024-06-09 15:34:03.625 +03:00 [INF] Executed DbCommand (260ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [EgyptWalksDb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-06-09 15:34:03.696 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-09 15:34:03.809 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-06-09 15:34:03.810 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-06-09 15:34:03.833 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-09 15:34:03.904 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-09 15:34:03.925 +03:00 [INF] Applying migration '20240607223352_init2'.
2024-06-09 15:34:04.037 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-06-09 15:34:04.040 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Age] int NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-06-09 15:34:04.043 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Difficulties] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Difficulties] PRIMARY KEY ([Id])
);
2024-06-09 15:34:04.046 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Images] (
    [Id] uniqueidentifier NOT NULL,
    [FileName] nvarchar(max) NOT NULL,
    [FileDescription] nvarchar(max) NULL,
    [FileExtension] nvarchar(max) NOT NULL,
    [FileSizeInBytes] bigint NOT NULL,
    [FilePath] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Images] PRIMARY KEY ([Id])
);
2024-06-09 15:34:04.048 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Regions] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Code] nvarchar(max) NOT NULL,
    [RegionImageUrl] nvarchar(max) NULL,
    CONSTRAINT [PK_Regions] PRIMARY KEY ([Id])
);
2024-06-09 15:34:04.093 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.098 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.106 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.110 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.385 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.412 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Walks] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [LengthInKm] float NOT NULL,
    [WalkImageUrl] nvarchar(max) NULL,
    [DifficultyId] uniqueidentifier NOT NULL,
    [RegionId] uniqueidentifier NOT NULL,
    CONSTRAINT [PK_Walks] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Walks_Difficulties_DifficultyId] FOREIGN KEY ([DifficultyId]) REFERENCES [Difficulties] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Walks_Regions_RegionId] FOREIGN KEY ([RegionId]) REFERENCES [Regions] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.422 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [FavouriteWalks] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [WalkId] uniqueidentifier NOT NULL,
    [ApplicationUserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_FavouriteWalks] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_FavouriteWalks_AspNetUsers_ApplicationUserId] FOREIGN KEY ([ApplicationUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_FavouriteWalks_Walks_WalkId] FOREIGN KEY ([WalkId]) REFERENCES [Walks] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.598 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [Id] uniqueidentifier NOT NULL,
    [Comment] nvarchar(max) NULL,
    [Rate] int NOT NULL,
    [WalkId] uniqueidentifier NOT NULL,
    [ApplicationUserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reviews_AspNetUsers_ApplicationUserId] FOREIGN KEY ([ApplicationUserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Walks_WalkId] FOREIGN KEY ([WalkId]) REFERENCES [Walks] ([Id]) ON DELETE CASCADE
);
2024-06-09 15:34:04.603 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-06-09 15:34:04.610 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-06-09 15:34:04.611 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-06-09 15:34:04.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-06-09 15:34:04.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-06-09 15:34:04.616 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-06-09 15:34:04.618 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-06-09 15:34:04.770 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_FavouriteWalks_ApplicationUserId] ON [FavouriteWalks] ([ApplicationUserId]);
2024-06-09 15:34:04.772 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_FavouriteWalks_WalkId] ON [FavouriteWalks] ([WalkId]);
2024-06-09 15:34:04.774 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_ApplicationUserId] ON [Reviews] ([ApplicationUserId]);
2024-06-09 15:34:04.776 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_WalkId] ON [Reviews] ([WalkId]);
2024-06-09 15:34:04.778 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Walks_DifficultyId] ON [Walks] ([DifficultyId]);
2024-06-09 15:34:04.779 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Walks_RegionId] ON [Walks] ([RegionId]);
2024-06-09 15:34:04.788 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240607223352_init2', N'8.0.6');
2024-06-09 15:34:04.795 +03:00 [INF] Applying migration '20240609123349_init'.
2024-06-09 15:34:04.815 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240609123349_init', N'8.0.6');
2024-06-09 15:35:00.164 +03:00 [INF] Logger has been configured.
2024-06-09 15:35:14.907 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 15:35:15.429 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 15:35:15.429 +03:00 [INF] Hosting environment: Development
2024-06-09 15:35:15.429 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 15:35:15.792 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger - null null
2024-06-09 15:35:16.381 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger - 301 null null 598.1305ms
2024-06-09 15:35:16.388 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 15:35:16.493 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 104.8089ms
2024-06-09 15:35:16.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 15:35:16.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui-bundle.js - null null
2024-06-09 15:35:16.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 15:35:16.567 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui.css - null null
2024-06-09 15:35:16.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui-standalone-preset.js - null null
2024-06-09 15:35:16.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 15.508ms
2024-06-09 15:35:16.594 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-09 15:35:16.595 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-09 15:35:16.604 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui.css - 200 143943 text/css 37.1252ms
2024-06-09 15:35:16.623 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 51.3611ms
2024-06-09 15:35:16.624 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-06-09 15:35:16.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 99.2156ms
2024-06-09 15:35:16.672 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 114.2064ms
2024-06-09 15:35:16.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - null null
2024-06-09 15:35:16.851 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-09 15:35:16.852 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - 200 665 image/png 2.5175ms
2024-06-09 15:35:16.905 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 15:35:17.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 185.3067ms
2024-06-09 15:36:03.654 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Images - multipart/form-data; boundary=---------------------------125070268523867980861340009148 68625
2024-06-09 15:36:03.678 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-09 15:36:04.843 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.ImagesController.UploadImage (EgyptWalks.API)'
2024-06-09 15:36:04.881 +03:00 [INF] Route matched with {action = "UploadImage", controller = "Images"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(EgyptWalks.Core.DTOs.ImageUploadRequestDTO) on controller NZWalks.API.Controllers.ImagesController (EgyptWalks.API).
2024-06-09 15:46:02.591 +03:00 [INF] Logger has been configured.
2024-06-09 15:46:48.693 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 15:46:48.853 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 15:46:48.859 +03:00 [INF] Hosting environment: Development
2024-06-09 15:46:48.859 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 15:46:48.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 15:46:48.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger - null null
2024-06-09 15:46:49.075 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger - 499 null null 179.9288ms
2024-06-09 15:46:49.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 275.3144ms
2024-06-09 15:46:49.229 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui.css - null null
2024-06-09 15:46:49.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 15:46:49.242 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 15:46:49.247 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.9652ms
2024-06-09 15:46:49.259 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-09 15:46:49.259 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui.css - 499 143943 text/css 31.0009ms
2024-06-09 15:46:49.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.0675ms
2024-06-09 15:46:49.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - null null
2024-06-09 15:46:49.533 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-09 15:46:49.534 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - 499 665 image/png 2.2569ms
2024-06-09 15:46:49.563 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 15:46:49.742 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.3117ms
2024-06-09 15:47:05.286 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Images - multipart/form-data; boundary=---------------------------15605622887802549942991813299 759420
2024-06-09 15:47:05.308 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-09 15:47:05.417 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.ImagesController.UploadImage (EgyptWalks.API)'
2024-06-09 15:47:05.452 +03:00 [INF] Route matched with {action = "UploadImage", controller = "Images"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(EgyptWalks.Core.DTOs.ImageUploadRequestDTO) on controller NZWalks.API.Controllers.ImagesController (EgyptWalks.API).
2024-06-09 15:48:29.231 +03:00 [INF] Logger has been configured.
2024-06-09 15:49:38.598 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 15:49:38.804 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 15:49:38.804 +03:00 [INF] Hosting environment: Development
2024-06-09 15:49:38.805 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 15:49:38.883 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 15:49:38.883 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger - null null
2024-06-09 15:49:39.063 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger - 499 null null 187.5482ms
2024-06-09 15:49:39.182 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 307.6521ms
2024-06-09 15:49:39.259 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 15:49:39.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 15:49:39.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui-standalone-preset.js - null null
2024-06-09 15:49:39.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 4.1713ms
2024-06-09 15:49:39.282 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-06-09 15:49:39.282 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui-standalone-preset.js - 499 339486 text/javascript 20.0179ms
2024-06-09 15:49:39.305 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.4392ms
2024-06-09 15:49:39.471 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - null null
2024-06-09 15:49:39.474 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-09 15:49:39.474 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - 499 665 image/png 3.5354ms
2024-06-09 15:49:39.541 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 15:49:39.696 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.0826ms
2024-06-09 15:49:51.072 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Images - multipart/form-data; boundary=---------------------------4133419633989622003251069878 759414
2024-06-09 15:49:51.080 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-09 15:49:51.178 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.ImagesController.UploadImage (EgyptWalks.API)'
2024-06-09 15:49:51.213 +03:00 [INF] Route matched with {action = "UploadImage", controller = "Images"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(EgyptWalks.Core.DTOs.ImageUploadRequestDTO) on controller NZWalks.API.Controllers.ImagesController (EgyptWalks.API).
2024-06-09 15:50:54.338 +03:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Images] ([Id], [FileDescription], [FileExtension], [FileName], [FilePath], [FileSizeInBytes])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-09 15:51:00.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'EgyptWalks.Core.Models.Image'.
2024-06-09 15:51:00.131 +03:00 [INF] Executed action NZWalks.API.Controllers.ImagesController.UploadImage (EgyptWalks.API) in 68913.3185ms
2024-06-09 15:51:00.132 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.ImagesController.UploadImage (EgyptWalks.API)'
2024-06-09 15:51:05.620 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Images - 200 null application/json; charset=utf-8 74548.514ms
2024-06-09 15:52:08.089 +03:00 [INF] Logger has been configured.
2024-06-09 15:53:42.195 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 15:53:42.350 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 15:53:42.356 +03:00 [INF] Hosting environment: Development
2024-06-09 15:53:42.356 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 15:53:42.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger - null null
2024-06-09 15:53:42.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 15:53:42.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger - 499 null null 183.1949ms
2024-06-09 15:53:42.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 280.4827ms
2024-06-09 15:53:42.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 15:53:42.731 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 15:53:42.734 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 5.1132ms
2024-06-09 15:53:42.775 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.1657ms
2024-06-09 15:53:43.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - null null
2024-06-09 15:53:43.025 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-09 15:53:43.026 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - 499 665 image/png 22.958ms
2024-06-09 15:53:43.064 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 15:53:43.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 229.3042ms
2024-06-09 15:53:56.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/api/Walks/GetAll?pageNumber=1&pageSize=1000 - null null
2024-06-09 15:53:56.230 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-09 15:53:56.307 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.WalksController.GetAll (EgyptWalks.API)'
2024-06-09 15:53:56.339 +03:00 [INF] Route matched with {action = "GetAll", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.String, System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller NZWalks.API.Controllers.WalksController (EgyptWalks.API).
2024-06-09 15:53:57.695 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-09 15:53:57.696 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-09 15:53:58.368 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[DifficultyId], [t].[LengthInKm], [t].[Name], [t].[RegionId], [t].[WalkImageUrl], [d].[Id], [d].[Name], [r].[Id], [r].[Code], [r].[Name], [r].[RegionImageUrl]
FROM (
    SELECT [w].[Id], [w].[Description], [w].[DifficultyId], [w].[LengthInKm], [w].[Name], [w].[RegionId], [w].[WalkImageUrl]
    FROM [Walks] AS [w]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Difficulties] AS [d] ON [t].[DifficultyId] = [d].[Id]
INNER JOIN [Regions] AS [r] ON [t].[RegionId] = [r].[Id]
2024-06-09 15:53:58.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EgyptWalks.Core.DTOs.WalkDTO, EgyptWalks.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-06-09 15:53:58.422 +03:00 [INF] Executed action NZWalks.API.Controllers.WalksController.GetAll (EgyptWalks.API) in 2078.5945ms
2024-06-09 15:53:58.423 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.WalksController.GetAll (EgyptWalks.API)'
2024-06-09 15:53:58.434 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/api/Walks/GetAll?pageNumber=1&pageSize=1000 - 200 null application/json; charset=utf-8 2216.7417ms
2024-06-09 15:55:06.514 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Walks/Create - application/json 257
2024-06-09 15:55:06.518 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API)'
2024-06-09 15:55:06.525 +03:00 [INF] Route matched with {action = "Create", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(EgyptWalks.Core.DTOs.AddWalkDTO) on controller NZWalks.API.Controllers.WalksController (EgyptWalks.API).
2024-06-09 15:55:06.822 +03:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Walks] ([Id], [Description], [DifficultyId], [LengthInKm], [Name], [RegionId], [WalkImageUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-09 15:55:06.977 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'EgyptWalks.DAL.EgyptWalksDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Walks_Difficulties_DifficultyId". The conflict occurred in database "EgyptWalksDb", table "dbo.Difficulties", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84c36164-b7a6-496f-a6d5-4eeaddba7cab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Walks_Difficulties_DifficultyId". The conflict occurred in database "EgyptWalksDb", table "dbo.Difficulties", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84c36164-b7a6-496f-a6d5-4eeaddba7cab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-09 15:55:07.174 +03:00 [INF] Executed action NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API) in 648.9503ms
2024-06-09 15:55:07.175 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API)'
2024-06-09 15:55:07.335 +03:00 [ERR] 13a65d66-465b-4fff-a4c2-4a449ebb63f1 : An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Walks_Difficulties_DifficultyId". The conflict occurred in database "EgyptWalksDb", table "dbo.Difficulties", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84c36164-b7a6-496f-a6d5-4eeaddba7cab
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EgyptWalks.DAL.Repositories.WalkRepository.CreateAsync(Walk walk) in D:\ASP .NET ITI\EgyptWalks\EgyptWalks.DAL\Repositories\WalkRepository.cs:line 53
   at NZWalks.API.Controllers.WalksController.Create(AddWalkDTO addWalkDTO) in D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API\Controllers\WalksController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EgyptWalks.API.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API\Middlewares\ExceptionHandlerMiddleware.cs:line 21
2024-06-09 15:55:07.375 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Walks/Create - 500 null application/json; charset=utf-8 861.7679ms
2024-06-09 15:56:00.368 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Regions/Create - application/json 70
2024-06-09 15:56:00.428 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2024-06-09 15:56:00.432 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-09 15:56:00.433 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Regions/Create - 401 null null 64.4074ms
2024-06-09 15:56:30.835 +03:00 [INF] Logger has been configured.
2024-06-09 15:56:34.370 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 15:56:34.537 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 15:56:34.538 +03:00 [INF] Hosting environment: Development
2024-06-09 15:56:34.538 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 15:56:34.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger - null null
2024-06-09 15:56:34.579 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 15:56:34.746 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger - 499 null null 173.0228ms
2024-06-09 15:56:34.845 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 272.8805ms
2024-06-09 15:56:34.891 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 15:56:34.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 15:56:34.900 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 8.3362ms
2024-06-09 15:56:34.943 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.3728ms
2024-06-09 15:56:35.113 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - null null
2024-06-09 15:56:35.143 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-09 15:56:35.143 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - 499 665 image/png 30.5531ms
2024-06-09 15:56:35.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 15:56:35.354 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.0157ms
2024-06-09 15:57:00.278 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Regions/Create - application/json 71
2024-06-09 15:57:00.298 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-09 15:57:00.379 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API)'
2024-06-09 15:57:00.408 +03:00 [INF] Route matched with {action = "Create", controller = "Regions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(EgyptWalks.Core.DTOs.AddRegionDTO) on controller NZWalks.API.Controllers.RegionsController (EgyptWalks.API).
2024-06-09 15:57:02.214 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Regions] ([Id], [Code], [Name], [RegionImageUrl])
VALUES (@p0, @p1, @p2, @p3);
2024-06-09 15:57:02.258 +03:00 [INF] Executing ObjectResult, writing value of type 'EgyptWalks.Core.DTOs.AddRegionDTO'.
2024-06-09 15:57:02.271 +03:00 [INF] Executed action NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API) in 1857.3922ms
2024-06-09 15:57:02.272 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API)'
2024-06-09 15:57:02.283 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Regions/Create - 201 null application/json; charset=utf-8 2004.9095ms
2024-06-09 15:57:34.799 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Regions/Create - application/json 118
2024-06-09 15:57:34.811 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API)'
2024-06-09 15:57:34.812 +03:00 [INF] Route matched with {action = "Create", controller = "Regions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(EgyptWalks.Core.DTOs.AddRegionDTO) on controller NZWalks.API.Controllers.RegionsController (EgyptWalks.API).
2024-06-09 15:57:34.903 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Regions] ([Id], [Code], [Name], [RegionImageUrl])
VALUES (@p0, @p1, @p2, @p3);
2024-06-09 15:57:34.906 +03:00 [INF] Executing ObjectResult, writing value of type 'EgyptWalks.Core.DTOs.AddRegionDTO'.
2024-06-09 15:57:34.908 +03:00 [INF] Executed action NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API) in 94.9037ms
2024-06-09 15:57:34.908 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API)'
2024-06-09 15:57:34.909 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Regions/Create - 201 null application/json; charset=utf-8 110.5581ms
2024-06-09 15:58:36.219 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Walks/Create - application/json 257
2024-06-09 15:58:36.261 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API)'
2024-06-09 15:58:36.265 +03:00 [INF] Route matched with {action = "Create", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(EgyptWalks.Core.DTOs.AddWalkDTO) on controller NZWalks.API.Controllers.WalksController (EgyptWalks.API).
2024-06-09 15:58:36.352 +03:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Walks] ([Id], [Description], [DifficultyId], [LengthInKm], [Name], [RegionId], [WalkImageUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-09 15:58:36.385 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'EgyptWalks.DAL.EgyptWalksDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Walks_Difficulties_DifficultyId". The conflict occurred in database "EgyptWalksDb", table "dbo.Difficulties", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d3babedf-333d-4b98-9647-fb8e9b655130
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Walks_Difficulties_DifficultyId". The conflict occurred in database "EgyptWalksDb", table "dbo.Difficulties", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d3babedf-333d-4b98-9647-fb8e9b655130
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-09 15:58:36.561 +03:00 [INF] Executed action NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API) in 295.3323ms
2024-06-09 15:58:36.561 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API)'
2024-06-09 15:58:36.705 +03:00 [ERR] 18df42be-4fbe-44ba-907d-c2b7ef7bd943 : An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Walks_Difficulties_DifficultyId". The conflict occurred in database "EgyptWalksDb", table "dbo.Difficulties", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d3babedf-333d-4b98-9647-fb8e9b655130
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EgyptWalks.DAL.Repositories.WalkRepository.CreateAsync(Walk walk) in D:\ASP .NET ITI\EgyptWalks\EgyptWalks.DAL\Repositories\WalkRepository.cs:line 53
   at NZWalks.API.Controllers.WalksController.Create(AddWalkDTO addWalkDTO) in D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API\Controllers\WalksController.cs:line 96
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at EgyptWalks.API.Middlewares.ExceptionHandlerMiddleware.InvokeAsync(HttpContext httpContext) in D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API\Middlewares\ExceptionHandlerMiddleware.cs:line 21
2024-06-09 15:58:36.730 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Walks/Create - 500 null application/json; charset=utf-8 513.4822ms
2024-06-09 16:38:31.798 +03:00 [INF] Logger has been configured.
2024-06-09 16:38:35.173 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 16:38:35.429 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 16:38:35.430 +03:00 [INF] Hosting environment: Development
2024-06-09 16:38:35.430 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 16:38:35.557 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 16:38:35.998 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 447.6995ms
2024-06-09 16:38:36.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 16:38:36.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 16:38:36.093 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 25.6147ms
2024-06-09 16:38:36.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.8396ms
2024-06-09 16:38:36.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 16:38:36.410 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Difficulties" for actions - EgyptWalks.API.Controllers.DifficultiesController.GetAllAsync (EgyptWalks.API),EgyptWalks.API.Controllers.DifficultiesController.GetByIdAsync (EgyptWalks.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-09 16:38:36.476 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 195.7307ms
2024-06-09 16:39:16.157 +03:00 [INF] Logger has been configured.
2024-06-09 16:39:18.201 +03:00 [INF] User profile is available. Using 'C:\Users\a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-09 16:39:18.471 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-09 16:39:18.472 +03:00 [INF] Hosting environment: Development
2024-06-09 16:39:18.472 +03:00 [INF] Content root path: D:\ASP .NET ITI\EgyptWalks\EgyptWalks.API
2024-06-09 16:39:18.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/index.html - null null
2024-06-09 16:39:18.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger - null null
2024-06-09 16:39:18.872 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger - 499 null null 312.7053ms
2024-06-09 16:39:18.993 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/index.html - 200 null text/html;charset=utf-8 435.0178ms
2024-06-09 16:39:19.060 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_vs/browserLink - null null
2024-06-09 16:39:19.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - null null
2024-06-09 16:39:19.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 9.7119ms
2024-06-09 16:39:19.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui.css - null null
2024-06-09 16:39:19.096 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-06-09 16:39:19.096 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/swagger-ui.css - 499 143943 text/css 22.4488ms
2024-06-09 16:39:19.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7352ms
2024-06-09 16:39:19.221 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - null null
2024-06-09 16:39:19.223 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-06-09 16:39:19.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/favicon-16x16.png - 499 665 image/png 1.5794ms
2024-06-09 16:39:19.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - null null
2024-06-09 16:39:19.434 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:40754/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.3024ms
2024-06-09 16:39:41.718 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Difficulties - application/json 68
2024-06-09 16:39:41.732 +03:00 [WRN] Failed to determine the https port for redirect.
2024-06-09 16:39:41.848 +03:00 [INF] Executing endpoint 'EgyptWalks.API.Controllers.DifficultiesController.CreateAsync (EgyptWalks.API)'
2024-06-09 16:39:41.887 +03:00 [INF] Route matched with {action = "Create", controller = "Difficulties"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsync(EgyptWalks.Core.Models.Difficulty) on controller EgyptWalks.API.Controllers.DifficultiesController (EgyptWalks.API).
2024-06-09 16:39:44.017 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Difficulties] ([Id], [Name])
VALUES (@p0, @p1);
2024-06-09 16:39:44.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'EgyptWalks.Core.Models.Difficulty'.
2024-06-09 16:39:44.074 +03:00 [INF] Executed action EgyptWalks.API.Controllers.DifficultiesController.CreateAsync (EgyptWalks.API) in 2181.1611ms
2024-06-09 16:39:44.075 +03:00 [INF] Executed endpoint 'EgyptWalks.API.Controllers.DifficultiesController.CreateAsync (EgyptWalks.API)'
2024-06-09 16:39:44.088 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Difficulties - 200 null application/json; charset=utf-8 2369.8443ms
2024-06-09 16:40:26.903 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Regions/Create - application/json 118
2024-06-09 16:40:26.913 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API)'
2024-06-09 16:40:26.919 +03:00 [INF] Route matched with {action = "Create", controller = "Regions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(EgyptWalks.Core.DTOs.AddRegionDTO) on controller NZWalks.API.Controllers.RegionsController (EgyptWalks.API).
2024-06-09 16:40:27.035 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Regions] ([Id], [Code], [Name], [RegionImageUrl])
VALUES (@p0, @p1, @p2, @p3);
2024-06-09 16:40:27.040 +03:00 [INF] Executing ObjectResult, writing value of type 'EgyptWalks.Core.DTOs.AddRegionDTO'.
2024-06-09 16:40:27.044 +03:00 [INF] Executed action NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API) in 124.8723ms
2024-06-09 16:40:27.045 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.RegionsController.Create (EgyptWalks.API)'
2024-06-09 16:40:27.047 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Regions/Create - 201 null application/json; charset=utf-8 144.6944ms
2024-06-09 16:41:16.243 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:40754/api/Walks/Create - application/json 208
2024-06-09 16:41:16.255 +03:00 [INF] Executing endpoint 'NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API)'
2024-06-09 16:41:16.259 +03:00 [INF] Route matched with {action = "Create", controller = "Walks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(EgyptWalks.Core.DTOs.AddWalkDTO) on controller NZWalks.API.Controllers.WalksController (EgyptWalks.API).
2024-06-09 16:41:16.342 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Guid), @p3='?' (DbType = Double), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Walks] ([Id], [Description], [DifficultyId], [LengthInKm], [Name], [RegionId], [WalkImageUrl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-06-09 16:41:16.353 +03:00 [INF] Executing ObjectResult, writing value of type 'EgyptWalks.Core.DTOs.AddWalkDTO'.
2024-06-09 16:41:16.359 +03:00 [INF] Executed action NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API) in 99.4484ms
2024-06-09 16:41:16.359 +03:00 [INF] Executed endpoint 'NZWalks.API.Controllers.WalksController.Create (EgyptWalks.API)'
2024-06-09 16:41:16.359 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:40754/api/Walks/Create - 201 null application/json; charset=utf-8 116.9443ms
